---
interface Props {
  icon: string;
  status: 'idea' | 'wip' | 'done' | 'poc';
  isActive: boolean;
}

const { icon, status, isActive } = Astro.props;
---

<div class="absolute top-0 right-0 p-2 z-20">
  <div class={`w-3 h-3 ${isActive && status === 'done' ? 'bg-primary shadow-glow' : 'border border-dashed border-wip rounded-none'}`}></div>
</div>

<div class="aspect-video w-full blueprint-window flex items-center justify-center relative">
  <div class="crosshair-tl"></div>
  <div class="crosshair-tr"></div>
  <div class="crosshair-bl"></div>
  <div class="crosshair-br"></div>
  <span class="material-symbols-outlined card-icon">
    {icon}
  </span>
</div>

<style>
  /* Blueprint grid window */
  .blueprint-window {
    background-color: theme('colors.obsidian');
    border-bottom: 1px solid theme('colors.border-dark');
    background-image: 
        linear-gradient(theme('colors.primary-faint') 1px, transparent 1px),
        linear-gradient(90deg, theme('colors.primary-faint') 1px, transparent 1px);
    background-size: 20px 20px;
  }

  /* Icon in window */
  .card-icon {
    color: theme('colors.icon-bright');
    font-size: 3.75rem;
    transition: transform 0.3s ease;
  }
  /* Parent hover effect handling via global class or specific selector if possible. 
     Since Astro scopes styles, we might need :global(.group:hover) .card-icon 
     or pass a prop. Let's use :global(.blueprint-card:hover) if we keep the class name on parent/link. 
  */
  :global(.blueprint-card:hover) .card-icon {
    transform: scale(1.1);
  }

  /* Crosshair corners */
  .crosshair-tl, .crosshair-tr, .crosshair-bl, .crosshair-br {
    position: absolute;
    width: 10px;
    height: 10px;
    border-color: theme('colors.marker');
    transition: all 0.3s ease;
  }
  .crosshair-tl { top: 8px; left: 8px; border-top: 1px solid; border-left: 1px solid; }
  .crosshair-tr { top: 8px; right: 8px; border-top: 1px solid; border-right: 1px solid; }
  .crosshair-bl { bottom: 8px; left: 8px; border-bottom: 1px solid; border-left: 1px solid; }
  .crosshair-br { bottom: 8px; right: 8px; border-bottom: 1px solid; border-right: 1px solid; }
  
  :global(.blueprint-card:hover) .crosshair-tl,
  :global(.blueprint-card:hover) .crosshair-tr,
  :global(.blueprint-card:hover) .crosshair-bl,
  :global(.blueprint-card:hover) .crosshair-br {
    border-color: theme('colors.primary');
  }
</style>
